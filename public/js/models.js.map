{"version":3,"sources":["userModel.js","galleryModel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"models.js","sourcesContent":["myApp.factory('userModel', ['$http', '$cookies', function($http, $cookies){\n\n var userModel = {\n\n };\n\n userModel.doLogin = function(loginData){\n\n    return   $http({\n        headers: {\n\n            'Content-Type' : 'application/json'\n        },\n        url: baseUrl + 'auth',\n        method: \"POST\",\n        data: {\n            email: loginData.email,\n            password: loginData.password\n        }\n\n     })\n    .then(function onSuccess(response) {\n    // Handle success\n    \n    console.log('response',response);\n    $cookies.put('auth', JSON.stringify(response));\n  }).\n  catch(function onError(data, status, headers) {\n   console.log(data, status, headers);\n   //$scope.error = 'неправильный логин или пароль'\n   //console.log($scope.error);\n   alert('Упс нет такого пользователя или введен неверно логин и пароль');\n  }); \n    \n\n    };\n\n    userModel.getAuthStatus = function(){\n     \n     var status = $cookies.get('auth');\n     if (status)\n        { return true;}\n     else {\n\n        return false;\n     }\n\n    };\n     \n     // получение объекта user преобразованный в json из строки\n    userModel.getUserObject  = function() {\n      var userObj = angular.fromJson($cookies.get('auth'));\n     // console.log(userObj);\n      return userObj;\n      \n    }\n\n    userModel.doUserLogout = function() {\n\n     $cookies.remove('auth');\n\n    }\n\n return userModel;\n}]);","myApp.factory('galleryModel', ['$http', function($http){\nreturn {\nsaveGallery: function(galleryData){\n      return $http({\n      \theaders: {\n      \t\t'Content-Type': 'application/json'\n      \t},\n      \turl: baseUrl + 'gallery',\n      \tmethod: \"POST\",\n      \tdata: {\n      \t\tname: galleryData.name\n      \t}\n      });\n    },\n\n    getAllGalleries: function(){\n    \treturn $http.get(baseUrl + 'gallery');\n    },\n\n    getGalleryById: function(id){\n     return $http.get(baseUrl + 'gallery/' + id);\t\n    }\n};\n}]);"],"sourceRoot":"/source/"}